(this.webpackJsonpa1=this.webpackJsonpa1||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"media/shop.010b631c.jpg"},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){var n={"./shop.jpg":25};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=45},55:function(e,t,a){e.exports=a(89)},60:function(e,t,a){},61:function(e,t,a){e.exports=a.p+"media/logo.5d5d9eef.svg"},62:function(e,t,a){},79:function(e,t,a){},85:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(46),l=a.n(o),s=(a(60),a(8)),c=a(9),i=a(11),m=a(10),u=(a(61),a(62),a(51)),d=Object(u.a)(),h=a(22),p=a(16),g=a(7),b=a(13),v=a.n(b),f=(a(79),{name:"",email:"",phoneNumber:"",disabled:!0,password:"",selectValue:"",errors:{name:"",email:"",phoneNumber:"",password:"",common:""},loggedIn:!1}),E=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={name:"",email:"",phoneNumber:"",password:"",selectValue:"email-id",errors:{name:"",email:"",phoneNumber:"",password:"",common:""},loggedIn:!1,disabled:!0},e.change=function(t){t.preventDefault(),e.setState(Object(h.a)({},t.target.name,t.target.value)),"selectValue"==t.target.name&&(console.log(e.state.selectValue),"email-id"==e.state.selectValue?(e.setState({disabled:!1}),console.log(e.state.selectValue)):e.setState({disabled:!0}),console.log(e.state.disabled))},e.handleValidation=function(){var t=e.state,a=t.name,n=t.email,r=t.phoneNumber,o=t.password,l={name:"",email:"",phoneNumber:"",password:"",common:""},s=RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,20})").test(e.state.password),c=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i).test(e.state.email),i=RegExp(/[a-zA-Z][a-zA-Z ]*/).test(e.state.name);return n?c||(l.email="Enter a valid email-id"):l.email="Field cannot be empty",a?i||(l.name="Name can contain only alphabets"):l.name="Name cannot be empty","phoneNumber"==e.state.selectValue&&(r?Number(r)||(l.phoneNumber="It can contain only digits"):l.phoneNumber="Please enter your Phone number "),o?s||(l.password="Password must contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character.The length should be atleast 8 and atmost 20"):l.password="Password cannot be null",!(l.name.length>0||l.email.length>0||l.phoneNumber.length>0||l.password.length>0||l.common.length>0)||(e.setState({errors:l}),!1)},e.onsubmit=function(t){t.preventDefault(),e.handleValidation()&&(console.log(e.state),v()({method:"post",url:"http://localhost:5000/signup",crossorigin:!0,withCredentials:!1,data:{name:e.state.name,password:e.state.password,email:e.state.email,phoneNumber:e.state.phoneNumber}}).then((function(t){if("True"===t.data)console.log(t),e.setState({loggedIn:!0}),console.log(e.state.loggedIn);else if("True"!==t.data){var a={name:"",email:"",phoneNumber:"",password:"",common:""};a.common=t.data,e.setState({errors:a}),console.log(e.state.errors.common)}})).catch((function(e){console.log(e)})),e.setState(f))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log("done")}},{key:"componentDidUpdate",value:function(){console.log(this.state.loggedIn)}},{key:"render",value:function(){var e=this,t=this.state.errors;return 1==this.state.loggedIn?r.a.createElement(p.a,{to:"/signin"}):(this.state.errors.common.length>0&&(alert(this.state.errors.common),window.location.reload(!1)),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h2",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.onsubmit},r.a.createElement("div",null,r.a.createElement("input",{name:"name",placeholder:"Name ",value:this.state.name,onChange:function(t){return e.change(t)}}),r.a.createElement("br",null),t.name.length>0&&r.a.createElement("span",{className:"error",style:{color:"red"}},this.state.errors.name),r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement("input",{name:"password",placeholder:"Password ",value:this.state.password,onChange:function(t){return e.change(t)}}),r.a.createElement("br",null),t.password.length>0&&r.a.createElement("span",{className:"error",style:{color:"red"}},this.state.errors.password),r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement("input",{name:"email",placeholder:"Email-id",value:this.state.email,onChange:function(t){return e.change(t)}}),r.a.createElement("br",null),""!=t.email&&r.a.createElement("span",{className:"error",style:{color:"red"}},this.state.errors.email),r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement("h1",null,"Receive notifications via:"),r.a.createElement("br",null),r.a.createElement("select",{name:"selectValue",value:this.state.selectValue,onChange:function(t){return e.change(t)}},r.a.createElement("option",{id:"0",value:"email-id",selected:"selected"},"Email"),r.a.createElement("option",{id:"1",value:"phone-Number"},"Phone Number")),r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement("input",{name:"phoneNumber",disabled:this.state.disabled?"disabled":"",placeholder:"Phone Number ",value:this.state.phoneNumber,onChange:function(t){return e.change(t)}}),r.a.createElement("br",null),t.phoneNumber.length>0&&r.a.createElement("span",{className:"error",style:{color:"red"}},this.state.errors.phoneNumber),r.a.createElement("br",null)),r.a.createElement("br",null),t.common.length>0&&r.a.createElement("span",{className:"error",style:{color:"red"}},this.state.errors.common),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"SignUp")),r.a.createElement(g.b,{to:"signin"},"Switch to Sign-in"))))}}]),a}(r.a.Component),N=a(14),w=a.n(N),y=a(18),S=a(5),j=(a(85),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).change=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleValidation=function(){var e=n.state,t=e.userName,a=e.password,r={userName:"",password:"",common:""};return t||(r.userName="Field cannot be empty"),a||(r.password="Field cannot be empty"),!(r.userName.length>0||r.password.length>0||r.common.length>0)||(n.setState({errors:r}),!1)},n.pRequest=Object(y.a)(w.a.mark((function e(){var t,a,r,o,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"post",url:"http://localhost:5000/signin",crossorigin:!0,withCredentials:!1,data:{email:n.state.userName,password:n.state.password}},e.next=4,v()(t);case 4:a=e.sent,console.log(a.data),"True"===a.data?(console.log(a.data),n.setState({loggedIn:!0}),console.log(n.state.loggedIn)):"True"!==a.data&&((r={userName:"",password:"",common:""}).common=a.data,n.setState({errors:r}),console.log(n.state.errors.common)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:console.log("hii"),n.state.errors.common.length>0&&(o=n.state.errors.common,alert(o),l={userName:"",password:"",common:""},n.setState({errors:l},(function(){console.log(n.state.errors)})));case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.onSubmit=function(e){e.preventDefault(),n.handleValidation()&&(console.log(n.state),n.pRequest(),n.setState({userName:"",password:"",loggedIn:!1}))},n.state={userName:"",password:"",loggedIn:!1,errors:{userName:"",password:"",common:""}},n.onSubmit=n.onSubmit.bind(Object(S.a)(n)),n.change=n.change.bind(Object(S.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log("done")}},{key:"componentDidUpdate",value:function(){console.log(this.state.loggedIn)}},{key:"render",value:function(){var e=this,t=this.state.errors;return 1==this.state.loggedIn?r.a.createElement(p.a,{to:"/Home"}):r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h2",null,"Sign In"),r.a.createElement("form",null,r.a.createElement("p",{class:"small"},r.a.createElement("div",null,r.a.createElement("input",{type:"userName",name:"userName",placeholder:"Email ",value:this.state.userName,onChange:function(t){return e.change(t)}}),r.a.createElement("br",null),t.userName.length>0&&r.a.createElement("span",{className:"error",style:{color:"red"}},this.state.errors.userName),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"password",placeholder:"Password ",value:this.state.password,onChange:function(t){return e.change(t)}}),r.a.createElement("br",null),t.password.length>0&&r.a.createElement("span",{className:"error",style:{color:"red"}},this.state.errors.password),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",onClick:function(t){return e.onSubmit(t)}},"Login")))))}}]),a}(r.a.Component)),k=a(19),O=(a(25),a(43),a(44),function(e){return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar__navigation"},r.a.createElement("div",null),r.a.createElement("div",{className:"toolbar__logo"},"XYZ COMPANY"),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar_navigation-items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Logout")),r.a.createElement("li",null,r.a.createElement(g.b,{to:"wishlist"},"WishList"))))))}),C=a(23),D=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={productId:"",productName:"",threshold:"",th:[],errors:{threshold:"",common:""},data:[]},e.change=function(t,a){a.preventDefault();var n=Object(k.a)(e.state.th);n[a.target.id]=a.target.value,e.setState({th:n}),console.log(e.state.th),e.setState({threshold:n[t]})},e.handleValidation=function(t){return e.state.th[t]?Number(e.state.th[t])||(e.state.errors.threshold="It can contain only digits"):e.state.errors.threshold="Field cannot be empty",!(e.state.errors.threshold.length>0||e.state.errors.common.length>0)||(console.log(e.state.errors.threshold),!1)},e.pRequest=function(){var t=Object(y.a)(w.a.mark((function t(a){var n,r,o,l,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={method:"post",url:"http://localhost:5000/Home",crossorigin:!0,withCredentials:!1,data:{threshold:e.state.th[a],name:e.state.data[a].name,pid:e.state.data[a].pid}},t.next=4,v()(n);case 4:r=t.sent,console.log(r.data),"True"===r.data?console.log(r.data):"True"!==r.data&&((o={common:""}).common=r.data,e.setState({errors:o}),console.log(e.state.errors.common)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:e.state.errors.common.length>0&&(l=e.state.errors.common,s={threshold:"",common:""},e.setState({errors:s},(function(){console.log(e.state.errors)})),alert(l));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),e.onsubmit=function(t,a){a.preventDefault(),e.setState({threshold:e.state.th[t]});var n=e.handleValidation(t);if(n){console.log(e.state),e.pRequest(t),e.setState({productId:"",productName:"",threshold:""});var r=Object(k.a)(e.state.th);r[t]="",e.setState({th:r})}n||alert(e.state.errors.threshold);e.setState({errors:{threshold:"",common:""}},(function(){console.log(e.state.errors)}))},e.onsubmit=e.onsubmit.bind(Object(S.a)(e)),e.change=e.change.bind(Object(S.a)(e)),e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.getData(),this.interval=setInterval((function(){e.getData()}),3e4)}},{key:"getData",value:function(){var e=this;fetch("http://localhost:5000/product",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({data:t}),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"_createCardsUI",value:function(){var e=this;return r.a.createElement("div",{className:"container"}," ",r.a.createElement(C.a,{itemsToShow:4,itemsToScroll:4,enableMouseSwipe:!0,enableSwipe:!0},this.state.data.map((function(t,n){var o=t.pid,l=t.name,s=t.mrp,c=t.price,i=t.description,m=t.img_file;return r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{class:"cards",key:n},r.a.createElement("div",{class:"card-imd-top"},r.a.createElement("img",{src:a(45)("./"+m+".jpg"),width:"50%",className:"thumbnail"})),r.a.createElement("div",{class:"card-title "},r.a.createElement("h4",null,l)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,"MRP: ",s),r.a.createElement("h6",null,"Current Price: ",c),r.a.createElement("p",{class:"card-text"},i),r.a.createElement("form",{className:"form-inline",onSubmit:function(t){return e.onsubmit(n,t)},key:n},r.a.createElement("input",{key:n,id:n,type:"text",className:"form-control mb-2 mr-sm-2 align-self-md-center",placeholder:"Enter threshold",name:o,value:e.state.th[n],onChange:function(t){return e.change(n,t)}}),r.a.createElement("input",{type:"submit",className:"button1",value:"Add item",id:n,key:n})))))})))," ")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null),this._createCardsUI())}}]),n}(r.a.Component),I=function(e){return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar__navigation"},r.a.createElement("div",null),r.a.createElement("div",{className:"toolbar__logo"},"XYZ COMPANY"),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar_navigation-items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"Home"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Logout"))))))},x=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={cart:!0,threshold:"",th:[],errors:{threshold:"",common:""},data:[]},e.change=function(t,a){a.preventDefault();var n=Object(k.a)(e.state.th);n[a.target.id]=a.target.value,e.setState({th:n}),console.log(e.state.th),e.setState({threshold:n[t]})},e.handleValidation=function(t){return e.state.th[t]?Number(e.state.th[t])||(e.state.errors.threshold="It can contain only digits"):e.state.errors.threshold="Field cannot be empty",!(e.state.errors.threshold.length>0||e.state.errors.common.length>0)||(console.log(e.state.errors.threshold),!1)},e.pRequest=function(){var t=Object(y.a)(w.a.mark((function t(a){var n,r,o,l,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={method:"post",url:"http://localhost:5000/wishlist",crossorigin:!0,withCredentials:!1,data:{threshold:e.state.th[a],name:e.state.data[a].name,pid:e.state.data[a].pid}},t.next=4,v()(n);case 4:r=t.sent,console.log(r.data),"True"===r.data?console.log(r.data):"True"!==r.data&&((o={common:""}).common=r.data,e.setState({errors:o}),console.log(e.state.errors.common)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:e.state.errors.common.length>0&&(l=e.state.errors.common,s={threshold:"",common:""},e.setState({errors:s},(function(){console.log(e.state.errors)})),alert(l));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(t,a){v()({method:"post",url:"http://localhost:5000/wishlist",crossorigin:!0,withCredentials:!1,data:{del:"True",name:e.state.data[t].name,pid:e.state.data[t].pid}}).then((function(e){"True"===e.data&&console.log(e)})).catch((function(e){console.log(e)}));var n=e.state.data.filter((function(e){return e.pid!==t+1}));e.setState({data:n})},e.onsubmit=function(t,a){a.preventDefault(),e.setState({threshold:e.state.th[t]});var n=e.handleValidation(t);if(n){console.log(e.state),e.pRequest(t),e.setState({cart:!0,threshold:""});var r=Object(k.a)(e.state.th);r[t]="",e.setState({th:r})}n||alert(e.state.errors.threshold);e.setState({errors:{threshold:"",common:""}},(function(){console.log(e.state.errors)}))},e.onsubmit=e.onsubmit.bind(Object(S.a)(e)),e.change=e.change.bind(Object(S.a)(e)),e.handleDelete=e.handleDelete.bind(Object(S.a)(e)),e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.getData(),this.interval=setInterval((function(){e.getData()}),3e4)}},{key:"getData",value:function(){var e=this;fetch("http://localhost:5000/customer",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({data:t}),0==Object.keys(t).length?e.setState({cart:!1}):e.setState({cart:!0}),console.log(t),console.log(e.state.cart)})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"_createCardsUI",value:function(){var e=this;return r.a.createElement("div",{className:"container"}," ",r.a.createElement(C.a,{itemsToShow:4,itemsToScroll:4,enableMouseSwipe:!0,enableSwipe:!0},this.state.data.map((function(t,n){var o=t.pid,l=t.name,s=t.mrp,c=t.price,i=t.description,m=t.img_file;return r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{class:"cards",key:n},r.a.createElement("div",{class:"card-imd-top"},r.a.createElement("img",{src:a(45)("./"+m+".jpg"),width:"50%",className:"thumbnail"})),r.a.createElement("div",{class:"card-title "},r.a.createElement("h4",null,l)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,"MRP: ",s),r.a.createElement("h6",null,"Current Price: ",c),r.a.createElement("p",{class:"card-text"},i),r.a.createElement("form",{className:"form-inline",onSubmit:function(t){return e.onsubmit(n,t)},key:n},r.a.createElement("input",{key:n,id:n,type:"text",className:"form-control mb-2 mr-sm-2 align-self-md-center",placeholder:"Enter threshold",name:o,value:e.state.th[n],onChange:function(t){return e.change(n,t)}}),r.a.createElement("input",{type:"submit",className:"button1",value:"Edit threshold",id:n,key:n}),r.a.createElement("input",{type:"button",className:"button1",value:"Remove product",id:n,onClick:function(t){window.confirm("Delete the item?")&&e.handleDelete(n,t)}})))))})))," ")}},{key:"render",value:function(){return 0==this.state.cart?r.a.createElement("h7",null,"CART IS EMPTY"):r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),this._createCardsUI())}}]),n}(r.a.Component),T=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"My Token = ",window.token),r.a.createElement(g.a,{history:d},r.a.createElement(p.b,{exact:!0,path:"/",component:E}),r.a.createElement(p.b,{exact:!0,path:"/signin",component:j}),r.a.createElement(p.b,{exact:!0,path:"/Home",component:D}),r.a.createElement(p.b,{exact:!0,path:"/wishlist",component:x})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.7c48b0d6.chunk.js.map